<!DOCTYPE html>
<html lang="ko">
  <head>
    <%- include("head") %>
    <title>로그인 - SFaxas</title>
  </head>
  <body>
    <%- include("header") %>
    <div class="container mx-auto p-4">
      <div class="mx-auto max-w-xs">
        <h3 class="mb-4 text-center text-2xl font-semibold">로그인</h3>
        <form id="form">
          <div class="mb-4">
            <label for="id" class="block">ID</label>
            <input
              type="text"
              id="id"
              class="input w-full"
              required
              onchange="checkValid()"
            />
          </div>
          <div class="mb-4">
            <label for="password" class="block">비밀번호</label>
            <input
              type="password"
              id="password"
              class="input w-full"
              required
              onchange="checkValid()"
            />
          </div>
          <div class="text-center">
            <button type="submit" class="filled-button" id="submit-btn">
              로그인
            </button>
          </div>
        </form>
      </div>
    </div>

    <%- include("scripts") %>
    <script>
      const form = document.getElementById("form");
      const id = document.getElementById("id");
      const password = document.getElementById("password");
      const submitBtn = document.getElementById("submit-btn");

      submitBtn.disabled = true;

      form.addEventListener("submit", (event) => {
        event.preventDefault();
        if (!checkValid()) {
          event.stopPropagation();
          return false;
        }

        alert("valid!");
      });

      function checkValid() {
        let valid = id.value && password.value;

        submitBtn.disabled = !valid;
        return valid;
      }
    </script>
  </body>
</html>
